[{"C:\\temp\\LoginSystem\\client\\src\\index.js":"1","C:\\temp\\LoginSystem\\client\\src\\App.js":"2","C:\\temp\\LoginSystem\\client\\src\\reportWebVitals.js":"3","C:\\temp\\LoginSystem\\client\\src\\components\\Register.js":"4","C:\\temp\\LoginSystem\\client\\src\\components\\Profile.js":"5","C:\\temp\\LoginSystem\\client\\src\\ProtectedRoute.js":"6","C:\\temp\\LoginSystem\\client\\src\\components\\Login.js":"7","C:\\temp\\LoginSystem\\client\\src\\components\\Navbar.js":"8","C:\\temp\\LoginSystem\\client\\src\\components\\AccessKey.js":"9","C:\\temp\\LoginSystem\\client\\src\\api\\url.js":"10","C:\\temp\\LoginSystem\\client\\src\\components\\Chatboard.js":"11","C:\\temp\\socketio_chat\\client\\src\\index.js":"12","C:\\temp\\socketio_chat\\client\\src\\reportWebVitals.js":"13","C:\\temp\\socketio_chat\\client\\src\\App.js":"14","C:\\temp\\socketio_chat\\client\\src\\ProtectedRoute.js":"15","C:\\temp\\socketio_chat\\client\\src\\components\\Login.js":"16","C:\\temp\\socketio_chat\\client\\src\\components\\Navbar.js":"17","C:\\temp\\socketio_chat\\client\\src\\components\\Register.js":"18","C:\\temp\\socketio_chat\\client\\src\\components\\AccessKey.js":"19","C:\\temp\\socketio_chat\\client\\src\\components\\Chatboard.js":"20","C:\\temp\\socketio_chat\\client\\src\\components\\Profile.js":"21","C:\\temp\\socketio_chat\\client\\src\\api\\url.js":"22","C:\\temp\\socketio_chat\\client\\src\\components\\CodeGenerator.js":"23","C:\\temp\\socketio_chat\\client\\src\\components\\CodeSubmitForm.js":"24","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqSenderMsgBox.js":"25","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqReceiverMsgBox.js":"26","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqErrorMsgBox.js":"27","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\Lobby.js":"28"},{"size":478,"mtime":1610520491307,"results":"29","hashOfConfig":"30"},{"size":2145,"mtime":1610865591275,"results":"31","hashOfConfig":"30"},{"size":362,"mtime":499162500000,"results":"32","hashOfConfig":"30"},{"size":2235,"mtime":1610810870973,"results":"33","hashOfConfig":"30"},{"size":176,"mtime":1610531911188,"results":"34","hashOfConfig":"30"},{"size":771,"mtime":1610733434153,"results":"35","hashOfConfig":"30"},{"size":2002,"mtime":1610737170015,"results":"36","hashOfConfig":"30"},{"size":622,"mtime":1610813070122,"results":"37","hashOfConfig":"30"},{"size":6107,"mtime":1610885113143,"results":"38","hashOfConfig":"30"},{"size":100,"mtime":1610810760901,"results":"39","hashOfConfig":"30"},{"size":3503,"mtime":1610885274046,"results":"40","hashOfConfig":"30"},{"size":478,"mtime":1610520491307,"results":"41","hashOfConfig":"42"},{"size":362,"mtime":499162500000,"results":"43","hashOfConfig":"42"},{"size":2525,"mtime":1611853172103,"results":"44","hashOfConfig":"42"},{"size":771,"mtime":1610733434153,"results":"45","hashOfConfig":"42"},{"size":2802,"mtime":1611841773070,"results":"46","hashOfConfig":"42"},{"size":622,"mtime":1611757514156,"results":"47","hashOfConfig":"42"},{"size":3109,"mtime":1611842086590,"results":"48","hashOfConfig":"42"},{"size":4639,"mtime":1612442162699,"results":"49","hashOfConfig":"42"},{"size":5334,"mtime":1612258742907,"results":"50","hashOfConfig":"42"},{"size":176,"mtime":1610531911188,"results":"51","hashOfConfig":"42"},{"size":100,"mtime":1610810760901,"results":"52","hashOfConfig":"42"},{"size":2490,"mtime":1611841649483,"results":"53","hashOfConfig":"42"},{"size":1512,"mtime":1611840938710,"results":"54","hashOfConfig":"42"},{"size":1181,"mtime":1611652398239,"results":"55","hashOfConfig":"42"},{"size":1306,"mtime":1612443373615,"results":"56","hashOfConfig":"42"},{"size":757,"mtime":1611648928510,"results":"57","hashOfConfig":"42"},{"size":1363,"mtime":1612442296442,"results":"58","hashOfConfig":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},"nq789h",{"filePath":"62","messages":"63","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"61"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"61"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"74","usedDeprecatedRules":"61"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"61"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"61"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"61"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},"1ivaz4g",{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"90"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"74","usedDeprecatedRules":"90"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"90"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"90"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"105","usedDeprecatedRules":"90"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"90"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"90"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"90"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"90"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"124","usedDeprecatedRules":"90"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"90"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131"},"C:\\temp\\LoginSystem\\client\\src\\index.js",[],["132","133"],"C:\\temp\\LoginSystem\\client\\src\\App.js",["134"],"import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Profile from \"./components/Profile\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport AccessKey from \"./components/AccessKey\";\nimport Chatboard from \"./components/Chatboard\";\nimport \"./App.css\";\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(\n    sessionStorage.getItem(\"loginState\") || false\n  );\n\n  const [userName, setuserName] = useState(\n    sessionStorage.getItem(\"userName\") || \"\"\n  );\n\n  const [chatStarted, setchatStart] = useState(false);\n  const [chatChannel, setchatChannel] = useState(\"\");\n\n  const confirmAuth = (authed, username) => {\n    if (authed) {\n      setIsAuth(true);\n      setuserName(username);\n      console.log(\"appjs\");\n    }\n  };\n\n  const confirmLogout = () => {\n    sessionStorage.removeItem(\"loginState\");\n    setIsAuth(false);\n  };\n\n  const confirmJoinedroom = (channelCode) => {\n    console.log(\"props.confirmJoinedroom\" + channelCode);\n    setchatStart(true);\n    setchatChannel(channelCode);\n  };\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navbar\n          userName={userName}\n          isAuth={isAuth}\n          confirmlogout={confirmLogout}\n        />\n        <Route path=\"/\" exact>\n          {!isAuth ? <a href=\"/login\">Click here to login</a> : null}\n        </Route>\n\n        <Route path=\"/chat\" exact>\n          {!chatStarted ? (\n            <AccessKey chatStarted={confirmJoinedroom} userName={userName} />\n          ) : (\n            <Chatboard channel={chatChannel} userName={userName} />\n          )}\n        </Route>\n        <Route path=\"/login\" exact>\n          {!isAuth ? <Login isAuth={confirmAuth} /> : <Redirect to=\"/\" />}\n        </Route>\n        <Route path=\"/register\" exact>\n          <Register />\n        </Route>\n        <ProtectedRoute\n          path=\"/profile\"\n          isProtected={isAuth}\n          component={Profile}\n        />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\temp\\LoginSystem\\client\\src\\reportWebVitals.js",[],"C:\\temp\\LoginSystem\\client\\src\\components\\Register.js",["135"],"import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\nimport \"../css/register.css\";\r\n\r\nexport default function Register(props) {\r\n  const [usernameReg, setusernameReg] = useState(\"\");\r\n  const [passwordReg, setpasswordReg] = useState(\"\");\r\n\r\n  const [pagemessage, setpagemessage] = useState(\"\");\r\n\r\n  //reigster: req to backend\r\n  const register = () => {\r\n    if (usernameReg && passwordReg) {\r\n      Axios.post(`${serverhost.url}/register`, {\r\n        username: usernameReg,\r\n        password: passwordReg,\r\n      }).then((response) => {\r\n        console.log(\"aaaaaaaaaaaaaaaaaaaaaaaaa\");\r\n        setpagemessage(\"Registered !\");\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <form style={{ border: \"1px solid #1eaabd\" }}>\r\n        <div className=\"container\">\r\n          <h1>Sign Up</h1>\r\n          <p>Please fill in this form to create an account.</p>\r\n          <hr />\r\n          <label htmlFor=\"email\">\r\n            <b>Username</b>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            onChange={(e) => {\r\n              setusernameReg(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n          <label htmlFor=\"pwd\">\r\n            <b>Password</b>\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            onChange={(e) => {\r\n              setpasswordReg(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n          <label htmlFor=\"pwd-repeat\">\r\n            <b>Repeat Password</b>\r\n          </label>\r\n          <input type=\"password\" placeholder=\"Repeat Password\" required />\r\n          <p>\r\n            By creating an account you agree to our{\" \"}\r\n            <a href=\"#\" style={{ color: \"dodgerblue\" }}>\r\n              Terms &amp; Privacy\r\n            </a>\r\n            .\r\n          </p>\r\n          <p>\r\n            Already have a account ?<a href=\"/login\"> Login here</a>\r\n          </p>\r\n        </div>\r\n        <h4>{pagemessage}</h4>\r\n      </form>\r\n      <button className=\"signupbtn buttonform\" onClick={register}>\r\n        Sign Up\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\LoginSystem\\client\\src\\components\\Profile.js",[],"C:\\temp\\LoginSystem\\client\\src\\ProtectedRoute.js",["136"],"import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\n//props: isAuth:boolean, component: component\r\nfunction ProtectedRoute({\r\n  isProtected: isProtected,\r\n  component: Component,\r\n  ...rest\r\n}) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (isProtected) {\r\n          return <Component />;\r\n        } else {\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/\",\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          );\r\n        }\r\n      }}\r\n    ></Route>\r\n  );\r\n  //</div>/return <Route component={props.component}></Route>;\r\n  //return <Profile value={props.isAuth ? \"1\" : \"2\"} />;\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","C:\\temp\\LoginSystem\\client\\src\\components\\Login.js",["137"],"import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\n\r\nexport default function Login(props) {\r\n  const [usernameLogin, setusernameLogin] = useState(\"\");\r\n  const [passwordLogin, setpasswordLogin] = useState(\"\");\r\n\r\n  const [status, setstatus] = useState(\"\");\r\n\r\n  const login = () => {\r\n    if (usernameLogin && passwordLogin) {\r\n      Axios.post(`${serverhost.url}/login`, {\r\n        username: usernameLogin,\r\n        password: passwordLogin,\r\n      }).then((response) => {\r\n        console.log(response.data.message);\r\n        if (response.data.message != \"tempToken\") {\r\n          setstatus(\"username/password incorrect\");\r\n          console.log(\"username/password incorrect\");\r\n        } else {\r\n          props.isAuth(true, usernameLogin);\r\n          sessionStorage.setItem(\"loginState\", true);\r\n          sessionStorage.setItem(\"userName\", usernameLogin);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <form style={{ border: \"1px solid #1eaabd\" }}>\r\n        <div className=\"container\">\r\n          <h1>Login</h1>\r\n          <hr />\r\n          <label htmlFor=\"email\">\r\n            <b>User name</b>\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter username\"\r\n            name=\"username\"\r\n            onChange={(e) => {\r\n              setusernameLogin(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n          <label htmlFor=\"psw\">\r\n            <b>Password</b>\r\n          </label>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Enter Password\"\r\n            name=\"password\"\r\n            onChange={(e) => {\r\n              setpasswordLogin(e.target.value);\r\n            }}\r\n            required\r\n          />\r\n          <h4 style={{ color: \"red\" }}>{status}</h4>\r\n        </div>\r\n      </form>\r\n      <button className=\"signupbtn buttonform\" onClick={login}>\r\n        Login\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\LoginSystem\\client\\src\\components\\Navbar.js",["138"],"import React from \"react\";\r\nimport \"../css/navbar.css\";\r\n\r\nexport default function Navbar(props) {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        <li>\r\n          <a className=\"active\" href=\"/chat\">\r\n            Chat\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/Profile\">Profile</a>\r\n        </li>\r\n        {!props.isAuth ? (\r\n          <li style={{ float: \"right\" }}>\r\n            <a href=\"/register\">Register</a>\r\n          </li>\r\n        ) : null}\r\n        <li style={{ float: \"right\" }}>\r\n          <a style={{ float: \"right\" }}> {props.userName}</a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\LoginSystem\\client\\src\\components\\AccessKey.js",["139","140","141","142","143","144","145","146","147","148"],"import React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\nimport io from \"socket.io-client\";\r\nimport Modal from \"react-modal\";\r\n\r\nlet socket;\r\n\r\nexport default function AccessKey(props) {\r\n  const [accessID, setaccessID] = useState(\"\");\r\n  const [accessCode, setaccessCode] = useState(\"---\");\r\n\r\n  const [expireCounter, setexpireCounter] = useState(0);\r\n\r\n  const [join_accessCode, setjoin_accessCode] = useState(\"\");\r\n\r\n  const [peerJoinrequest, setpeerJoinrequest] = useState(false);\r\n\r\n  const [request_status_message, setrequest_status_message] = useState(\"\");\r\n  const [receivedRequest, setreceivedRequest] = useState(false);\r\n\r\n  const fakeToken = \"000\";\r\n\r\n  // TO DO:\r\n  // move the socket instance to chatboard\r\n  // JOIN ! btn to check backend code valid, YES: set props.isJOin true and redirect to /Chatboard NO: false mesage\r\n  // and pass joincode to chatboard\r\n  // If\r\n\r\n  useEffect(() => {\r\n    socket = io(serverhost.url);\r\n  }, [serverhost]);\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n\r\n    expireCounter > 0 &&\r\n      setTimeout(() => {\r\n        if (!unmounted) {\r\n          setexpireCounter(expireCounter - 1);\r\n        }\r\n      }, 1000);\r\n    return () => {\r\n      unmounted = true;\r\n    };\r\n  }, [expireCounter]);\r\n\r\n  //Join the socket room with access code\r\n  useEffect(() => {\r\n    console.log(\"Access Code chagned\");\r\n    socket.emit(\"join_room\", { user: props.userName, code: accessCode });\r\n  }, [accessCode]);\r\n\r\n  //listen to peer request\r\n  useEffect(() => {\r\n    socket.on(\"peer_request\", (data) => {\r\n      console.log(\" There is a request from user \" + data);\r\n      setreceivedRequest(true);\r\n    });\r\n  });\r\n\r\n  //listen to peer response\r\n  useEffect(() => {\r\n    // Received 3 times here\r\n    // BUG: When onChange, it call  the App.js setState function. it will render\r\n    // this component again.\r\n    socket.on(\"peer_response\", (data) => {\r\n      console.log(\" There is a response from user :\" + data);\r\n      if (data == \"accepted\") {\r\n        props.chatStarted(join_accessCode);\r\n      } else {\r\n        console.log(\"Not a request\");\r\n      }\r\n    });\r\n  });\r\n\r\n  //send request to target\r\n  const requestToChannel = () => {\r\n    //props.chatStarted(true);\r\n    //console.log(join_accessCode);\r\n    //socket.emit(\"join_request\", join_accessCode);\r\n    //socket.emit(\"join_room\", join_accessCode);\r\n    if (validateKey(join_accessCode)) {\r\n      socket.emit(\"join_room\", { user: props.userName, code: join_accessCode });\r\n      socket.emit(\"join_request\", {\r\n        room: `${join_accessCode}`,\r\n        message: \"request\",\r\n      });\r\n    } else {\r\n      setrequest_status_message(\"Invalid access code\");\r\n    }\r\n  };\r\n\r\n  //response to the requestor\r\n  const accpetRequest = () => {\r\n    console.log(\"send accpet  reponse\" + accessCode);\r\n    socket.emit(\"join_response\", {\r\n      room: `${accessCode}`,\r\n      message: \"accepted\",\r\n    });\r\n    console.log(\"acceptRequest  ****************\");\r\n    props.chatStarted(accessCode);\r\n  };\r\n\r\n  const declineRequest = () => {};\r\n\r\n  //Validate key from backend\r\n  const validateKey = (join_accessCode) => {\r\n    return true;\r\n  };\r\n\r\n  //Gen random code from backend\r\n  const getKey = () => {\r\n    Axios.post(`${serverhost.url}/keygen`, {\r\n      token: fakeToken,\r\n    }).then((response) => {\r\n      console.log(response.data.code);\r\n      setaccessCode(response.data.code);\r\n      startTimer();\r\n    });\r\n  };\r\n\r\n  const startTimer = () => {\r\n    setexpireCounter(60);\r\n  };\r\n\r\n  const socket_discoonect = () => {\r\n    socket.disconnect();\r\n  };\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"50%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      marginRight: \"-50%\",\r\n      transform: \"translate(-50%, -50%)\",\r\n    },\r\n  };\r\n\r\n  function closeModal() {\r\n    setreceivedRequest(false);\r\n  }\r\n  var subtitle;\r\n\r\n  return (\r\n    <div className=\"formContainer\">\r\n      <div className=\"form\">\r\n        <form style={{ border: \"1px solid #1eaabd\" }}>\r\n          <div className=\"container\">\r\n            <p>{accessID}</p>\r\n            <div style={{ letterSpacing: \"10px\" }}>\r\n              <h1 style={expireCounter === 0 ? { color: \"#DCDCDC\" } : null}>\r\n                {accessCode}\r\n              </h1>\r\n            </div>\r\n            {expireCounter > 0 ? (\r\n              <h5>After {expireCounter} second, the code will expire</h5>\r\n            ) : (\r\n              <h5>Code expired, please get a new code</h5>\r\n            )}\r\n          </div>\r\n        </form>\r\n        {expireCounter == 0 ? (\r\n          <button className=\"buttonform\" onClick={getKey}>\r\n            Get a new key\r\n          </button>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"form\">\r\n        <form style={{ border: \"1px solid #1eaabd\" }}>\r\n          <div className=\"container\">\r\n            <label htmlFor=\"Code\"></label>\r\n            <h4>Access your peers chat channel</h4>\r\n            <input\r\n              type=\"text\"\r\n              style={{ textAlign: \"center\", letterSpacing: \"10px\" }}\r\n              maxLength=\"4\"\r\n              placeholder=\"your peers code\"\r\n              onChange={(e) => {\r\n                if (e.target.value.length == 4) {\r\n                  setjoin_accessCode(e.target.value);\r\n                  console.log(\"AccessKey: \" + e.target.value);\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </form>\r\n        <button className=\"buttonform \" onClick={requestToChannel}>\r\n          {\" \"}\r\n          Join !{\" \"}\r\n        </button>\r\n        <button onClick={socket_discoonect}></button>\r\n        <h2>{request_status_message}</h2>\r\n      </div>\r\n      {receivedRequest ? (\r\n        <Modal\r\n          isOpen={receivedRequest}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <h2>You have received a chat request !</h2>\r\n          <button onClick={accpetRequest}>Accept</button>\r\n          <button onClick={closeModal}>Not now</button>\r\n        </Modal>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\LoginSystem\\client\\src\\api\\url.js",[],"C:\\temp\\LoginSystem\\client\\src\\components\\Chatboard.js",["149","150","151","152"],"C:\\temp\\socketio_chat\\client\\src\\index.js",[],["153","154"],"C:\\temp\\socketio_chat\\client\\src\\reportWebVitals.js",[],"C:\\temp\\socketio_chat\\client\\src\\App.js",["155","156"],"import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport Profile from \"./components/Profile\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport AccessKey from \"./components/AccessKey\";\nimport Chatboard from \"./components/Chatboard\";\nimport Axios from \"axios\";\nimport \"./App.css\";\n\nfunction App() {\n  const [isAuth, setIsAuth] = useState(\n    sessionStorage.getItem(\"loginState\") || false\n  );\n\n  const [userName, setuserName] = useState(\n    sessionStorage.getItem(\"userName\") || \"\"\n  );\n\n  const [chatStarted, setchatStart] = useState(false);\n  const [chatChannel, setchatChannel] = useState(\"\");\n\n  const confirmAuth = (authed, username) => {\n    if (authed) {\n      setIsAuth(true);\n      setuserName(username);\n      console.log(\"appjs\");\n    }\n  };\n\n  const confirmLogout = () => {\n    sessionStorage.removeItem(\"loginState\");\n    setIsAuth(false);\n  };\n\n  const confirmJoinedroom = (channelCode) => {\n    console.log(\"props.confirmJoinedroom\" + channelCode);\n    setchatChannel(channelCode);\n    setchatStart(true);\n  };\n\n  const userAuthtemp = () => {\n    Axios.get(\"http://ccp.zone:3001/isUserAuth\", {\n      headers: {\n        \"x-access-token\": sessionStorage.getItem(\"token\"),\n      },\n    }).then((response) => {\n      console.log(response);\n    });\n  };\n  return (\n    <div className=\"App\">\n      <Router>\n        {isAuth ? (\n          <Navbar\n            userName={userName}\n            isAuth={isAuth}\n            confirmlogout={confirmLogout}\n          />\n        ) : null}\n\n        <Route path=\"/\" exact>\n          {!isAuth ? <Login isAuth={confirmAuth} /> : <Redirect to=\"/chat\" />}\n        </Route>\n\n        <Route path=\"/chat\" exact>\n          {!isAuth ? (\n            <Redirect to=\"/\" />\n          ) : !chatStarted ? (\n            <AccessKey chatStarted={confirmJoinedroom} userName={userName} />\n          ) : (\n            <Chatboard channel={chatChannel} userName={userName} />\n          )}\n        </Route>\n        <Route path=\"/login\" exact>\n          {!isAuth ? <Login isAuth={confirmAuth} /> : <Redirect to=\"/\" />}\n        </Route>\n        <Route path=\"/register\" exact>\n          <Register />\n        </Route>\n        <ProtectedRoute\n          path=\"/profile\"\n          isProtected={isAuth}\n          component={Profile}\n        />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\temp\\socketio_chat\\client\\src\\ProtectedRoute.js",["157"],"C:\\temp\\socketio_chat\\client\\src\\components\\Login.js",["158"],"import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\nimport styles from \"../css/signInOut.module.css\";\r\nimport chat_logo from \"../image/chat_logo.svg\";\r\n\r\nexport default function Login(props) {\r\n  const [usernameLogin, setusernameLogin] = useState(\"\");\r\n  const [passwordLogin, setpasswordLogin] = useState(\"\");\r\n\r\n  const [status, setstatus] = useState(\"\");\r\n\r\n  const login = (e) => {\r\n    e.preventDefault();\r\n    if (usernameLogin && passwordLogin) {\r\n      Axios.post(`${serverhost.url}/login`, {\r\n        username: usernameLogin,\r\n        password: passwordLogin,\r\n      }).then((response) => {\r\n        console.log(response.data);\r\n        if (!response.data.auth) {\r\n          setstatus(\"username/password incorrect\");\r\n          //console.log(\"username/password incorrect\");\r\n        } else {\r\n          props.isAuth(true, usernameLogin);\r\n          sessionStorage.setItem(\"token\", response.data.token);\r\n          sessionStorage.setItem(\"loginState\", true);\r\n          sessionStorage.setItem(\"userName\", usernameLogin);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.loginPage}>\r\n      <div className={`${styles.wrapper} ${styles.fadeInDown}`}>\r\n        <div className={styles.formContent}>\r\n          {/* Tabs Titles */}\r\n          <h2 className={styles.active}>Sign In</h2>\r\n          {/* Icon */}\r\n          <div className={`${styles.fadeIn} ${styles.first}`}>\r\n            <img src={chat_logo} className={styles.icon} />\r\n          </div>\r\n          {/* Login Form */}\r\n          <form onSubmit={login}>\r\n            <input\r\n              type=\"text\"\r\n              className={`${styles.input} ${styles.fadeIn} ${styles.second}`}\r\n              placeholder=\"username\"\r\n              onChange={(e) => {\r\n                setusernameLogin(e.target.value);\r\n              }}\r\n              required\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              className={`${styles.input} ${styles.fadeIn} ${styles.third}`}\r\n              placeholder=\"password\"\r\n              name=\"password\"\r\n              onChange={(e) => {\r\n                setpasswordLogin(e.target.value);\r\n              }}\r\n              required\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              className={`${styles.input} ${styles.fadeIn} ${styles.fourth}`}\r\n              defaultValue=\"Log In\"\r\n            />\r\n            <h4 style={{ color: \"red\", marginbottom: \"10px\" }}>{status}</h4>\r\n          </form>\r\n          {/* Remind Passowrd */}\r\n          <div className={styles.formFooter}>\r\n            <a className={styles.underlineHover} href=\"/register\">\r\n              Register here !\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\Navbar.js",["159"],"C:\\temp\\socketio_chat\\client\\src\\components\\Register.js",["160"],"import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\n//import \"../css/register.css\";\r\nimport styles from \"../css/signInOut.module.css\";\r\n\r\nexport default function Register(props) {\r\n  const [usernameReg, setusernameReg] = useState(\"\");\r\n  const [passwordReg, setpasswordReg] = useState(\"\");\r\n\r\n  const [pagemessage, setpagemessage] = useState(\"\");\r\n\r\n  //reigster: req to backend\r\n  const register = (e) => {\r\n    e.preventDefault();\r\n    if (usernameReg && passwordReg) {\r\n      Axios.post(`${serverhost.url}/register`, {\r\n        username: usernameReg,\r\n        password: passwordReg,\r\n      }).then((response) => {\r\n        setpagemessage(\"Registered !\");\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.loginPage}>\r\n      <div className={`${styles.wrapper} ${styles.fadeInDown}`}>\r\n        <div className={styles.formContent}>\r\n          {/* Tabs Titles */}\r\n          <h2 className={`${styles.active}`}>sign up</h2>\r\n\r\n          {/* Register Form */}\r\n          <form onSubmit={register}>\r\n            <label className={styles.label} for=\"username\">\r\n              User name :\r\n            </label>\r\n            <input\r\n              className={styles.input}\r\n              type=\"text\"\r\n              placeholder=\"username\"\r\n              name=\"username\"\r\n              onChange={(e) => {\r\n                setusernameReg(e.target.value);\r\n              }}\r\n              required\r\n            />\r\n            <label className={styles.label} for=\"password\">\r\n              Password :\r\n            </label>\r\n            <input\r\n              className={styles.input}\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n              name=\"password\"\r\n              required\r\n              onChange={(e) => {\r\n                setpasswordReg(e.target.value);\r\n              }}\r\n            />\r\n            <label className={styles.label} for=\"password\">\r\n              Repeat Password :\r\n            </label>\r\n            <input\r\n              className={styles.input}\r\n              type=\"password\"\r\n              placeholder=\"Repeat Password\"\r\n              name=\"password\"\r\n              required\r\n            />\r\n            <input\r\n              className={styles.input}\r\n              type=\"submit\"\r\n              defaultValue=\"Log In\"\r\n            />\r\n            <h4 style={{ color: \"red\", marginbottom: \"10px\" }}></h4>\r\n          </form>\r\n          {/* Remind Passowrd */}\r\n\r\n          <div className={styles.formFooter}>\r\n            {pagemessage === \"\" ? (\r\n              <div>\r\n                Already have a account ?{\" \"}\r\n                <a className={styles.underlineHover} href=\"/login\">\r\n                  Login here\r\n                </a>\r\n              </div>\r\n            ) : (\r\n              <div style={{ color: \"green\" }}>\r\n                <b>{pagemessage} </b>\r\n                <a className={styles.underlineHover} href=\"/login\">\r\n                  Login here\r\n                </a>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\AccessKey.js",["161","162","163","164","165"],"import React, { useEffect, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\nimport io from \"socket.io-client\";\r\nimport CodeGenerator from \"./CodeGenerator\";\r\nimport CodeSubmitForm from \"./CodeSubmitForm\";\r\nimport ReqSenderMsgBox from \"./Modal/ReqSenderMsgBox\";\r\nimport ReqReceiverMsgBox from \"./Modal/ReqReceiverMsgBox\";\r\nimport ReqErrorMsgBox from \"./Modal/ReqErrorMsgBox\";\r\nimport styles from \"../css/dashboard.module.css\";\r\n\r\nlet socket;\r\n\r\nexport default function AccessKey(props) {\r\n  const [accessCode, setaccessCode] = useState(\"----\");\r\n  const [join_accessCode, setjoin_accessCode] = useState(\"\");\r\n  //control modal box\r\n  const [receivedRequest, setreceivedRequest] = useState(false);\r\n  const [sendedRequest, setsendedRequest] = useState(false);\r\n  const [IsRequestErr, setIsRequestErr] = useState(false);\r\n  const [RequestErrMsg, setRequestErrMsg] = useState(\"\");\r\n  //peer reponse\r\n  const [peerReponse, setpeerReponse] = useState(false);\r\n\r\n  //\r\n\r\n  const [userQueue, setuserQueue] = useState([]);\r\n\r\n  useEffect(() => {\r\n    socket = io(serverhost.url);\r\n  }, [serverhost]);\r\n\r\n  //Join the socket lobby with access code\r\n  useEffect(() => {\r\n    console.log(\"Access Code change\");\r\n    if (accessCode != \"----\") {\r\n      socket.emit(\"lobby_join\", { user: props.userName, code: accessCode });\r\n    }\r\n  }, [accessCode]);\r\n\r\n  //listen to peer request\r\n  useEffect(() => {\r\n    socket.on(\"peer_request\", (data) => {\r\n      console.log(data);\r\n      console.log(\" There is a request from user :\" + data.user);\r\n      let peerInfo = {\r\n        userid: \"#test\",\r\n        username: data.user,\r\n      };\r\n      setreceivedRequest(true);\r\n      setuserQueue([...userQueue, peerInfo]);\r\n    });\r\n    return () => {\r\n      socket.off(\"peer_request\");\r\n    };\r\n  });\r\n\r\n  //listen to peer response\r\n  useEffect(() => {\r\n    socket.on(\"peer_response\", (data) => {\r\n      console.log(\" There is a response from user :\" + data);\r\n      console.log(\"************\" + join_accessCode + \"************\");\r\n      if (data == \"Accepted\") {\r\n        props.chatStarted(join_accessCode);\r\n      } else {\r\n        console.log(\"Request Denied\");\r\n        setpeerReponse(true);\r\n      }\r\n    });\r\n    return () => {\r\n      socket.off(\"peer_response\");\r\n    };\r\n  });\r\n\r\n  const requestToLobby = () => {\r\n    //ValidateAccessCode\r\n    Axios.post(\r\n      `${serverhost.url}/keyverify`,\r\n      {\r\n        code: join_accessCode,\r\n      },\r\n      {\r\n        headers: {\r\n          \"x-access-token\": sessionStorage.getItem(\"token\"),\r\n        },\r\n      }\r\n    ).then((response) => {\r\n      if (response.data.message != true) {\r\n        setIsRequestErr(true);\r\n        setRequestErrMsg(response.data.message);\r\n      } else {\r\n        setsendedRequest(true);\r\n        socket.emit(\"lobby_join\", {\r\n          user: props.userName,\r\n          // tag\r\n          code: join_accessCode,\r\n        });\r\n        socket.emit(\"join_request\", {\r\n          room: `${join_accessCode}`,\r\n          user: props.userName,\r\n          message: \"request\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  //response to the requestor / start the lobby\r\n  const accpetRequest = (e) => {\r\n    closeModal();\r\n    console.log(\"e. \" + e.currentTarget.value);\r\n    console.log(\"send accpet  reponse\" + accessCode);\r\n    socket.emit(\"join_response\", {\r\n      room: `${accessCode}`,\r\n      message: e.currentTarget.value,\r\n    });\r\n    console.log(\"acceptRequest  ****************\");\r\n    if (e.currentTarget.value === \"Accepted\") {\r\n      props.chatStarted(accessCode);\r\n    }\r\n  };\r\n\r\n  const setAccessCode = (code) => {\r\n    setaccessCode(code);\r\n  };\r\n\r\n  const setJoin_accessCode = (code) => {\r\n    setjoin_accessCode(code);\r\n  };\r\n\r\n  function closeModal() {\r\n    setreceivedRequest(false);\r\n    setsendedRequest(false);\r\n    setIsRequestErr(false);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.mainPage}>\r\n      <div className={styles.mainContainer}>\r\n        <CodeGenerator setaccessCode={setAccessCode} accessCode={accessCode} />\r\n        <CodeSubmitForm\r\n          setJoin_accessCode={setJoin_accessCode}\r\n          request={requestToLobby}\r\n        />\r\n        <ReqReceiverMsgBox\r\n          active={receivedRequest}\r\n          close={closeModal}\r\n          response={accpetRequest}\r\n          userList={userQueue}\r\n        />\r\n        <ReqSenderMsgBox\r\n          active={sendedRequest}\r\n          close={closeModal}\r\n          response={peerReponse}\r\n        />\r\n        <ReqErrorMsgBox\r\n          active={IsRequestErr}\r\n          close={closeModal}\r\n          message={RequestErrMsg}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\Chatboard.js",["166","167","168","169","170","171","172","173"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { serverhost } from \"../api/url\";\r\nimport io from \"socket.io-client\";\r\nimport \"../css/chatboard.css\";\r\nimport \"../css/typingDot.css\";\r\n\r\nlet socket;\r\n\r\nexport default function Chatboard(props) {\r\n  const [message, setmessage] = useState(\"\");\r\n  const [messageList, setmessageList] = useState([]);\r\n  const [connetionStatus, setconnetionStatus] = useState(\"\");\r\n  const [userTyping, setuserTyping] = useState(false);\r\n\r\n  const channel = props.channel;\r\n  const username = props.userName;\r\n\r\n  useEffect(() => {\r\n    socket = io(serverhost.url);\r\n  }, [serverhost]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"beforeunload\", (ev) => {\r\n      ev.returnValue = \"Are you sure ?\";\r\n    });\r\n  }, [serverhost]);\r\n\r\n  useEffect(() => {\r\n    //socket.emit(\"join_room\", props.channel);\r\n    console.log(\"chatRoom_join\" + { user: props.userName, code: channel });\r\n    socket.emit(\"chatRoom_join\", { user: props.userName, code: channel });\r\n  }, [channel]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (data) => {\r\n      setmessageList([...messageList, data]);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"receive_message\");\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.on(\"dcNotice\", (data) => {\r\n      setconnetionStatus(data);\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"dcNotice\");\r\n    };\r\n  });\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_userTyping\", (data) => {\r\n      //console.log(\"eff\" + data);\r\n      setuserTyping(true);\r\n    });\r\n\r\n    const interval = setInterval(() => {\r\n      setuserTyping(false);\r\n    }, 2000);\r\n\r\n    return () => {\r\n      socket.off(\"receive_userTyping\");\r\n      //console.log(\"*********************************************\");\r\n      clearInterval(interval);\r\n    };\r\n  });\r\n\r\n  const scroll = () => {\r\n    let chat = document.getElementById(\"msger-chat\");\r\n    chat.scrollTop += 500;\r\n  };\r\n\r\n  useEffect(() => {\r\n    scroll();\r\n  }, [messageList]);\r\n\r\n  const sendMessage = async (e) => {\r\n    //prevent page refresh\r\n    e.preventDefault();\r\n    //console.log(e.target.value);\r\n    if (message !== \"\") {\r\n      let messageContent = {\r\n        room: channel,\r\n        content: {\r\n          author: username,\r\n          message: message,\r\n          timestamp: `${new Date()}`,\r\n        },\r\n      };\r\n\r\n      await socket.emit(\"send_message\", messageContent);\r\n      setmessageList([...messageList, messageContent.content]);\r\n      setmessage(\"\");\r\n      e.target.reset();\r\n    }\r\n  };\r\n\r\n  const sendTypingStatus = async () => {\r\n    //console.log(\"typing\");\r\n    await socket.emit(\"userTyping\", \"is typing\");\r\n  };\r\n\r\n  const displayTime = (stamp) => {\r\n    var date = new Date(stamp);\r\n    // Hours part from the timestamp\r\n    var hours = date.getHours();\r\n    // Minutes part from the timestamp\r\n    var minutes = \"0\" + date.getMinutes();\r\n    // Seconds part from the timestamp\r\n    var seconds = \"0\" + date.getSeconds();\r\n    var formattedTime =\r\n      hours + \":\" + minutes.substr(-2) + \":\" + seconds.substr(-2);\r\n\r\n    return formattedTime;\r\n  };\r\n\r\n  return (\r\n    <div className=\"board-body\">\r\n      <section className=\"msger\">\r\n        <header className=\"msger-header\">\r\n          <div className=\"msger-header-title\">\r\n            <i className=\"fas fa-comment-alt\" />\r\n\r\n            <div>Room ID: {channel}</div>\r\n          </div>\r\n          <div className=\"msger-header-options\">\r\n            <span>\r\n              <i className=\"fas fa-cog\" />\r\n            </span>\r\n          </div>\r\n        </header>\r\n        <main id=\"msger-chat\" className=\"msger-chat\">\r\n          {messageList.map((val, key) => {\r\n            return (\r\n              <div\r\n                className={\r\n                  val.author == username ? \"msg right-msg\" : \"msg left-msg\"\r\n                }\r\n              >\r\n                <div className=\"msg-bubble\">\r\n                  <div className=\"msg-info\">\r\n                    <div className=\"msg-info-name\">{val.author}</div>\r\n                    <div className=\"msg-info-time\">\r\n                      {displayTime(val.timestamp)}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"msg-text\">{val.message}</div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n          {userTyping ? (\r\n            <div className=\"msg-bubble-typing\">\r\n              <div style={{ margin: \"auto\" }} className=\"dot-pulse\"></div>\r\n            </div>\r\n          ) : null}\r\n          {connetionStatus == \"\" ? null : (\r\n            <div className=\"msg-bubble-announcement\" style={{ color: \"red\" }}>\r\n              {connetionStatus}\r\n            </div>\r\n          )}\r\n        </main>\r\n        <form onSubmit={sendMessage} className=\"msger-inputarea\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"msger-input\"\r\n            placeholder=\"Enter your message...\"\r\n            onChange={(e) => {\r\n              setmessage(e.target.value);\r\n              sendTypingStatus();\r\n            }}\r\n            disabled={connetionStatus == \"\" ? \"\" : \"disabled\"}\r\n          />\r\n          <button\r\n            className=\"msger-send-btn\"\r\n            disabled={connetionStatus == \"\" ? \"\" : \"disabled\"}\r\n          >\r\n            Send\r\n          </button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\Profile.js",[],"C:\\temp\\socketio_chat\\client\\src\\api\\url.js",[],"C:\\temp\\socketio_chat\\client\\src\\components\\CodeGenerator.js",["174"],"import React, { useState, useEffect } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { serverhost } from \"../api/url\";\r\nimport styles from \"../css/dashboard.module.css\";\r\nimport styles2 from \"../css/signInOut.module.css\";\r\n\r\nexport default function CodeGenerator(props) {\r\n  const [expireCounter, setexpireCounter] = useState(0);\r\n  const [getKeyMessage, setgetKeyMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let unmounted = false;\r\n\r\n    expireCounter > 0 &&\r\n      setTimeout(() => {\r\n        if (!unmounted) {\r\n          setexpireCounter(expireCounter - 1);\r\n        }\r\n      }, 1000);\r\n    return () => {\r\n      unmounted = true;\r\n    };\r\n  }, [expireCounter]);\r\n\r\n  const startTimer = () => {\r\n    setexpireCounter(60);\r\n  };\r\n\r\n  const getKey = () => {\r\n    Axios.post(`${serverhost.url}/keygen`, null, {\r\n      headers: {\r\n        \"x-access-token\": sessionStorage.getItem(\"token\"),\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data.code);\r\n        props.setaccessCode(response.data.code);\r\n        startTimer();\r\n      })\r\n      .catch((error) => {\r\n        switch (error.response.status) {\r\n          case 403:\r\n            setgetKeyMessage(\"Oops, something went wrong\");\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        className={`${styles2.wrapper} ${styles2.fadeInDown} ${styles.first}`}\r\n      >\r\n        <div className={styles2.formContent}>\r\n          <form>\r\n            <div>\r\n              <div style={{ letterSpacing: \"10px\" }}>\r\n                <h1 style={expireCounter === 0 ? { color: \"#DCDCDC\" } : null}>\r\n                  {props.accessCode}\r\n                </h1>\r\n              </div>\r\n              {expireCounter > 0 ? (\r\n                <h5>After {expireCounter} second, the code will expire</h5>\r\n              ) : (\r\n                <h5>Code expired, please get a new code</h5>\r\n              )}\r\n            </div>\r\n            {getKeyMessage}\r\n          </form>\r\n\r\n          <button\r\n            className={styles2.button}\r\n            style={\r\n              expireCounter !== 0\r\n                ? {\r\n                    backgroundColor: \"grey\",\r\n                  }\r\n                : null\r\n            }\r\n            onClick={getKey}\r\n            disabled={expireCounter !== 0}\r\n          >\r\n            Get a new key\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className={styles.codeGeneratorCard}></div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\CodeSubmitForm.js",["175","176","177"],"import React, { useState, useEffect } from \"react\";\r\nimport styles from \"../css/signInOut.module.css\";\r\n\r\nexport default function CodeSubmitForm(props) {\r\n  const [request_status_message, setrequest_status_message] = useState(\"\");\r\n\r\n  return (\r\n    <div>\r\n      <div className={`${styles.wrapper} ${styles.fadeInDown} ${styles.third}`}>\r\n        <div className={styles.formContent}>\r\n          <form>\r\n            <div className=\"container\">\r\n              <label htmlFor=\"Code\"></label>\r\n              <h4 style={{ marginBottom: \"20px\", marginTop: \"20px\" }}>\r\n                Access your peers chat channel\r\n              </h4>\r\n              <input\r\n                className={styles.input}\r\n                type=\"text\"\r\n                style={{\r\n                  textAlign: \"center\",\r\n                  letterSpacing: \"10px\",\r\n                  margin: \"10px\",\r\n                }}\r\n                maxLength=\"4\"\r\n                placeholder=\"your peers code\"\r\n                onChange={(e) => {\r\n                  if (e.target.value.length == 4) {\r\n                    props.setJoin_accessCode(e.target.value);\r\n                    console.log(\"AccessKey: \" + e.target.value);\r\n                  }\r\n                }}\r\n              />\r\n            </div>\r\n          </form>\r\n          <button className={styles.button} onClick={props.request}>\r\n            {\" \"}\r\n            Join !{\" \"}\r\n          </button>\r\n          <h2>{request_status_message}</h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqSenderMsgBox.js",["178"],"import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport loading_icon from \"../../image/loading.gif\";\r\n\r\nexport default function MessageBox(props) {\r\n  const [reponse, setreponse] = useState(false);\r\n\r\n  useEffect(() => {\r\n    Modal.setAppElement(\"body\");\r\n    setreponse(props.response);\r\n  }, [props.response]);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={props.active}\r\n      onRequestClose={props.close}\r\n      style={customStyles}\r\n      contentLabel=\"Example Modal\"\r\n    >\r\n      {!reponse ? (\r\n        <div>\r\n          <h2>You have sent a chat request !</h2>\r\n          <img\r\n            style={{\r\n              display: \"block\",\r\n              marginLeft: \"auto\",\r\n              marginRight: \"auto\",\r\n            }}\r\n            src={loading_icon}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <h2>Request denied</h2>\r\n      )}\r\n\r\n      <button value=\"Cancel\" onClick={props.close}>\r\n        Cancel\r\n      </button>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n","C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqReceiverMsgBox.js",[],"C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\ReqErrorMsgBox.js",[],"C:\\temp\\socketio_chat\\client\\src\\components\\Modal\\Lobby.js",["179","180","181"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport styles from \"../../css/lobby.module.css\";\r\n\r\nexport default function Lobby(props) {\r\n  const [userAccpted_list, setuserAccpted_list] = useState([]);\r\n  const [userPending_list, setuserPending_list] = useState([]);\r\n\r\n  const addAccpted = (e) => {\r\n    var x = e.target.value;\r\n    console.log(x);\r\n\r\n    //Add the selected user to the accpted list\r\n    setuserAccpted_list([\r\n      ...userAccpted_list,\r\n      ...userPending_list.filter((user) => user.userid === x),\r\n    ]);\r\n\r\n    //Remove user from the pending list\r\n    setuserPending_list([\r\n      ...userPending_list.filter((user) => user.userid != x),\r\n    ]);\r\n  };\r\n\r\n  // START chat : send request to server, boardcast the private room id to lobby member that accpeted\r\n  useEffect(() => {\r\n    console.log(props.userlist);\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <h2 className={styles.title}> Lobby:</h2>\r\n        <table className={styles.lobbytable}>\r\n          <tr>\r\n            <th>userID</th>\r\n            <th>userName</th>\r\n          </tr>\r\n          {props.userlist.map((val, key) => {\r\n            return (\r\n              <tr>\r\n                <td>{val.userid}</td>\r\n                <td>{val.username}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",{"ruleId":"182","replacedBy":"183"},{"ruleId":"184","replacedBy":"185"},{"ruleId":"186","severity":1,"message":"187","line":1,"column":27,"nodeType":"188","messageId":"189","endLine":1,"endColumn":36},{"ruleId":"190","severity":1,"message":"191","line":60,"column":13,"nodeType":"192","endLine":60,"endColumn":57},{"ruleId":"193","severity":1,"message":"194","line":6,"column":3,"nodeType":"195","messageId":"196","endLine":6,"endColumn":27,"fix":"197"},{"ruleId":"198","severity":1,"message":"199","line":18,"column":35,"nodeType":"200","messageId":"201","endLine":18,"endColumn":37},{"ruleId":"190","severity":1,"message":"202","line":22,"column":11,"nodeType":"192","endLine":22,"endColumn":41},{"ruleId":"186","severity":1,"message":"203","line":10,"column":20,"nodeType":"188","messageId":"189","endLine":10,"endColumn":31},{"ruleId":"186","severity":1,"message":"204","line":17,"column":10,"nodeType":"188","messageId":"189","endLine":17,"endColumn":25},{"ruleId":"186","severity":1,"message":"205","line":17,"column":27,"nodeType":"188","messageId":"189","endLine":17,"endColumn":45},{"ruleId":"206","severity":1,"message":"207","line":32,"column":6,"nodeType":"208","endLine":32,"endColumn":18,"suggestions":"209"},{"ruleId":"206","severity":1,"message":"210","line":52,"column":6,"nodeType":"208","endLine":52,"endColumn":18,"suggestions":"211"},{"ruleId":"198","severity":1,"message":"212","line":69,"column":16,"nodeType":"200","messageId":"201","endLine":69,"endColumn":18},{"ruleId":"186","severity":1,"message":"213","line":105,"column":9,"nodeType":"188","messageId":"189","endLine":105,"endColumn":23},{"ruleId":"186","severity":1,"message":"214","line":145,"column":7,"nodeType":"188","messageId":"189","endLine":145,"endColumn":15},{"ruleId":"198","severity":1,"message":"212","line":165,"column":24,"nodeType":"200","messageId":"201","endLine":165,"endColumn":26},{"ruleId":"198","severity":1,"message":"212","line":182,"column":43,"nodeType":"200","messageId":"201","endLine":182,"endColumn":45},{"ruleId":"186","severity":1,"message":"215","line":5,"column":8,"nodeType":"188","messageId":"189","endLine":5,"endColumn":9},{"ruleId":"206","severity":1,"message":"207","line":18,"column":6,"nodeType":"208","endLine":18,"endColumn":18,"suggestions":"216"},{"ruleId":"206","severity":1,"message":"210","line":24,"column":6,"nodeType":"208","endLine":24,"endColumn":15,"suggestions":"217"},{"ruleId":"198","severity":1,"message":"212","line":89,"column":30,"nodeType":"200","messageId":"201","endLine":89,"endColumn":32},{"ruleId":"182","replacedBy":"218"},{"ruleId":"184","replacedBy":"219"},{"ruleId":"186","severity":1,"message":"187","line":1,"column":27,"nodeType":"188","messageId":"189","endLine":1,"endColumn":36},{"ruleId":"186","severity":1,"message":"220","line":44,"column":9,"nodeType":"188","messageId":"189","endLine":44,"endColumn":21},{"ruleId":"193","severity":1,"message":"194","line":6,"column":3,"nodeType":"195","messageId":"196","endLine":6,"endColumn":27,"fix":"221"},{"ruleId":"222","severity":1,"message":"223","line":42,"column":13,"nodeType":"192","endLine":42,"endColumn":60},{"ruleId":"190","severity":1,"message":"202","line":22,"column":11,"nodeType":"192","endLine":22,"endColumn":41},{"ruleId":"224","severity":1,"message":"225","line":76,"column":13,"nodeType":"192","endLine":76,"endColumn":64},{"ruleId":"206","severity":1,"message":"207","line":31,"column":6,"nodeType":"208","endLine":31,"endColumn":18,"suggestions":"226"},{"ruleId":"198","severity":1,"message":"199","line":36,"column":20,"nodeType":"200","messageId":"201","endLine":36,"endColumn":22},{"ruleId":"206","severity":1,"message":"210","line":39,"column":6,"nodeType":"208","endLine":39,"endColumn":18,"suggestions":"227"},{"ruleId":"198","severity":1,"message":"212","line":63,"column":16,"nodeType":"200","messageId":"201","endLine":63,"endColumn":18},{"ruleId":"198","severity":1,"message":"199","line":88,"column":33,"nodeType":"200","messageId":"201","endLine":88,"endColumn":35},{"ruleId":"186","severity":1,"message":"228","line":1,"column":38,"nodeType":"188","messageId":"189","endLine":1,"endColumn":44},{"ruleId":"206","severity":1,"message":"207","line":20,"column":6,"nodeType":"208","endLine":20,"endColumn":18,"suggestions":"229"},{"ruleId":"206","severity":1,"message":"207","line":26,"column":6,"nodeType":"208","endLine":26,"endColumn":18,"suggestions":"230"},{"ruleId":"206","severity":1,"message":"210","line":32,"column":6,"nodeType":"208","endLine":32,"endColumn":15,"suggestions":"231"},{"ruleId":"198","severity":1,"message":"212","line":140,"column":30,"nodeType":"200","messageId":"201","endLine":140,"endColumn":32},{"ruleId":"198","severity":1,"message":"212","line":160,"column":28,"nodeType":"200","messageId":"201","endLine":160,"endColumn":30},{"ruleId":"198","severity":1,"message":"212","line":175,"column":39,"nodeType":"200","messageId":"201","endLine":175,"endColumn":41},{"ruleId":"198","severity":1,"message":"212","line":179,"column":39,"nodeType":"200","messageId":"201","endLine":179,"endColumn":41},{"ruleId":"232","severity":1,"message":"233","line":44,"column":11,"nodeType":"234","messageId":"235","endLine":45,"endColumn":19},{"ruleId":"186","severity":1,"message":"187","line":1,"column":27,"nodeType":"188","messageId":"189","endLine":1,"endColumn":36},{"ruleId":"186","severity":1,"message":"236","line":5,"column":34,"nodeType":"188","messageId":"189","endLine":5,"endColumn":59},{"ruleId":"198","severity":1,"message":"212","line":28,"column":45,"nodeType":"200","messageId":"201","endLine":28,"endColumn":47},{"ruleId":"222","severity":1,"message":"223","line":23,"column":11,"nodeType":"192","endLine":30,"endColumn":13},{"ruleId":"186","severity":1,"message":"228","line":1,"column":38,"nodeType":"188","messageId":"189","endLine":1,"endColumn":44},{"ruleId":"186","severity":1,"message":"237","line":8,"column":9,"nodeType":"188","messageId":"189","endLine":8,"endColumn":19},{"ruleId":"198","severity":1,"message":"199","line":20,"column":56,"nodeType":"200","messageId":"201","endLine":20,"endColumn":58},"no-native-reassign",["238"],"no-negated-in-lhs",["239"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-useless-rename","Destructuring assignment isProtected unnecessarily renamed.","Property","unnecessarilyRenamed",{"range":"240","text":"241"},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'setaccessID' is assigned a value but never used.","'peerJoinrequest' is assigned a value but never used.","'setpeerJoinrequest' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has an unnecessary dependency: 'serverhost'. Either exclude it or remove the dependency array. Outer scope values like 'serverhost' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["242"],"React Hook useEffect has a missing dependency: 'props.userName'. Either include it or remove the dependency array.",["243"],"Expected '===' and instead saw '=='.","'declineRequest' is assigned a value but never used.","'subtitle' is defined but never used.","'e' is defined but never used.",["244"],["245"],["238"],["239"],"'userAuthtemp' is assigned a value but never used.",{"range":"246","text":"241"},"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","jsx-a11y/heading-has-content","Headings must have content and the content must be accessible by a screen reader.",["247"],["248"],"'useRef' is defined but never used.",["249"],["250"],["251"],"no-fallthrough","Expected a 'break' statement before 'default'.","SwitchCase","default","'setrequest_status_message' is assigned a value but never used.","'addAccpted' is assigned a value but never used.","no-global-assign","no-unsafe-negation",[159,183],"isProtected",{"desc":"252","fix":"253"},{"desc":"254","fix":"255"},{"desc":"252","fix":"256"},{"desc":"257","fix":"258"},[159,183],{"desc":"252","fix":"259"},{"desc":"254","fix":"260"},{"desc":"252","fix":"261"},{"desc":"252","fix":"262"},{"desc":"257","fix":"263"},"Update the dependencies array to be: []",{"range":"264","text":"265"},"Update the dependencies array to be: [accessCode, props.userName]",{"range":"266","text":"267"},{"range":"268","text":"265"},"Update the dependencies array to be: [channel, props.userName]",{"range":"269","text":"270"},{"range":"271","text":"265"},{"range":"272","text":"267"},{"range":"273","text":"265"},{"range":"274","text":"265"},{"range":"275","text":"270"},[1011,1023],"[]",[1499,1511],"[accessCode, props.userName]",[483,495],[719,728],"[channel, props.userName]",[1124,1136],[1370,1382],[619,631],[769,781],[1014,1023]]